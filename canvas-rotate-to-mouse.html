<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>rotate to mouse</title>
	</head>
	<body>
		<canvas id="canvas" width="500" height="500" style="background:#0090D3"></canvas>
		<script type="text/javascript" src="js/canvas-utils.js" ></script>
		<script type="text/javascript" src="js/arrow.js" ></script>
		<script>
			+function(){
				var canvas=document.querySelector("#canvas");
				var context=canvas.getContext("2d");
				var centerX=canvas.width/2;
				var centerY=canvas.height/2;
				
				var mouse=utils.captureMouse(canvas);
				var arrow=new Arrow();
				
				arrow.x=centerX;
				arrow.y=centerY;
				
				
				(function drawFrame(){
					requestAnimationFrame(drawFrame);
					context.clearRect(0,0,canvas.width,canvas.height);
					var dx=mouse.x-arrow.x;
					var dy=mouse.y-arrow.y;
					
					
					arrow.rotation=Math.atan2(dy,dx);
					//console.log(arrow.rotation)
					arrow.draw(context);
				})();
				
			}();
		</script>
	</body>
</html>
